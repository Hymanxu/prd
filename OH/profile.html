<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenHarmony - 我的</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="profile-styles.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <div class="logo">
                    <img src="./img/logo.png" alt="OpenHarmony">
                </div>
                <ul class="nav-menu">
                    <li><a href="https://tev-competition.qstcloud.net/index" class="nav-link">首页</a></li>
                    <li><a href="https://tev-competition.qstcloud.net/introduce" class="nav-link">大赛介绍</a></li>
                    <li><a href="introduction.html" class="nav-link">当前赛事</a></li>
                    <li><a href="contests.html" class="nav-link">赛题展示</a></li>
                    <li><a href="faq.html" class="nav-link">FAQ</a></li>
                    <li><a href="profile.html" class="nav-link active">我的</a></li>
                </ul>
            </div>
            <div class="nav-right">
                <button class="login-btn">登录/注册</button>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="main-content">
        <!-- 页面标题区域 -->
        <section class="page-header">
            <div class="container">
                <h1>个人中心</h1>
                <p>管理您的参赛信息和作品</p>
            </div>
        </section>

        <!-- 个人信息区域 -->
        <section class="profile-section">
            <div class="container">
                <div class="profile-container">
                    <!-- 左侧菜单 -->
                    <div class="profile-sidebar">
                        <div class="profile-menu">
                            <a href="#personal-info" class="menu-item active">
                                <span>个人信息</span>
                            </a>
                            <a href="#payment-info" class="menu-item">
                                <span>收款信息</span>
                            </a>
                            <a href="#submission-record" class="menu-item">
                                <span>提交记录</span>
                            </a>
                            <a href="#certificates" class="menu-item">
                                <span>证书</span>
                            </a>
                        </div>
                    </div>

                    <!-- 右侧内容 -->
                    <div class="profile-content">
                        <!-- 个人信息卡片 -->
                        <div id="personal-info" class="profile-card">
                            <div class="profile-header">
                                <div class="profile-info">
                                    <h2>张三</h2>
                                    <p class="user-title">OpenHarmony开发者</p>
                                    <p class="user-school">清华大学</p>
                                    <p class="user-email">zhangsan@example.com</p>
                                </div>
                                <button class="edit-btn" onclick="openEditProfileModal()">编辑资料</button>
                            </div>
                            
                            <div class="profile-stats">
                                <div class="stat-item">
                                    <div class="stat-number">5</div>
                                    <div class="stat-label">参赛</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">8</div>
                                    <div class="stat-label">提交</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">3</div>
                                    <div class="stat-label">通过</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">1200</div>
                                    <div class="stat-label">积分</div>
                                </div>
                            </div>
                        </div>

                        <!-- 收款信息 -->
                        <div id="payment-info" class="section-card">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3>收款信息</h3>
                                <button class="edit-btn" onclick="openEditPaymentModal()">编辑</button>
                            </div>
                            <div class="payment-info">
                                <div class="payment-item">
                                    <label>收款人姓名：</label>
                                    <span>张三</span>
                                </div>
                                <div class="payment-item">
                                    <label>银行卡号：</label>
                                    <span>**** **** **** 1234</span>
                                </div>
                                <div class="payment-item">
                                    <label>开户银行：</label>
                                    <span>中国工商银行</span>
                                </div>
                            </div>
                        </div>

                        <!-- 最近提交 -->
                        <div id="submission-record" class="section-card">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3>最近提交</h3>
                                <button class="edit-btn" onclick="openMoreSubmissionsModal()">查看更多</button>
                            </div>
                            <div class="contest-list">
                                <div class="contest-item">
                                    <div class="contest-info">
                                        <h4>内核缓冲区溢出检测 - a7b3c9</h4>
                                        <span class="contest-date">2025-01-15 14:30</span>
                                        <p>获得积分: +85</p>
                                        <p>覆盖率提升: +12%</p>
                                    </div>
                                    <div class="contest-status">
                                        <span class="status-badge submitted">通过</span>
                                    </div>
                                </div>
                                
                                <div class="contest-item">
                                    <div class="contest-info">
                                        <h4>应用权限提升测试 - f2e8d1</h4>
                                        <span class="contest-date">2025-01-15 10:15</span>
                                        <p>预计完成: 30分钟</p>
                                    </div>
                                    <div class="contest-status">
                                        <span class="status-badge submitted">评测中</span>
                                    </div>
                                </div>
                                
                                <div class="contest-item">
                                    <div class="contest-info">
                                        <h4>网络协议模糊测试 - 9k4m7x</h4>
                                        <span class="contest-date">2025-01-14 16:45</span>
                                        <p>编译错误</p>
                                    </div>
                                    <div class="contest-status">
                                        <span class="status-badge awarded">失败</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 证书 -->
                        <div id="certificates" class="section-card">
                            <h3>证书</h3>
                            <div class="certificate-grid">
                                <div class="certificate-item" onclick="openCertificateModal('second')" style="cursor: pointer;">
                                    <div class="certificate-image">
                                        <div class="certificate-placeholder">🏆</div>
                                    </div>
                                    <div class="certificate-info">
                                        <h4>二等奖证书</h4>
                                        <p>OpenHarmony社区创新奖励计划 6月赛</p>
                                        <span class="certificate-date">2025-06-30</span>
                                    </div>
                                </div>
                                
                                <div class="certificate-item" onclick="openCertificateModal('third')" style="cursor: pointer;">
                                    <div class="certificate-image">
                                        <div class="certificate-placeholder">🥉</div>
                                    </div>
                                    <div class="certificate-info">
                                        <h4>三等奖证书</h4>
                                        <p>OpenHarmony社区创新奖励计划 7月赛</p>
                                        <span class="certificate-date">2025-07-31</span>
                                    </div>
                                </div>
                                
                                <div class="certificate-item" onclick="openCertificateModal('participation')" style="cursor: pointer;">
                                    <div class="certificate-image">
                                        <div class="certificate-placeholder">🎖️</div>
                                    </div>
                                    <div class="certificate-info">
                                        <h4>优秀参与奖</h4>
                                        <p>OpenHarmony社区创新奖励计划 5月赛</p>
                                        <span class="certificate-date">2025-05-31</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <p>粤ICP备2023053305号 🔒 粤公网安备44030020027248号</p>
        </div>
    </footer>

    <!-- 个人信息编辑弹窗 -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>编辑个人信息</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="profileForm">
                    <div class="form-group">
                        <label>姓名</label>
                        <input type="text" id="name" value="张三" required>
                    </div>
                    <div class="form-group">
                        <label>学校</label>
                        <input type="text" id="school" value="清华大学" required>
                    </div>
                    <div class="form-group">
                        <label>专业</label>
                        <input type="text" id="major" value="计算机科学与技术" required>
                    </div>
                    <div class="form-group">
                        <label>学号</label>
                        <input type="text" id="studentId" value="2021001234" required>
                    </div>
                    <div class="form-group">
                        <label>手机号</label>
                        <div class="phone-group">
                            <input type="tel" id="phone" value="138****5678" required>
                            <button type="button" class="verify-btn" onclick="sendVerificationCode()">发送验证码</button>
                        </div>
                        <input type="text" id="phoneCode" placeholder="请输入验证码" style="margin-top: 8px;">
                    </div>
                    <div class="form-group">
                        <label>邮箱</label>
                        <input type="email" id="email" value="zhangsan@example.com" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel">取消</button>
                <button type="button" class="btn-save">保存</button>
            </div>
        </div>
    </div>

    <!-- 收款信息编辑弹窗 -->
    <div id="editPaymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>编辑收款信息</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="paymentForm">
                    <div class="form-group">
                        <label>收款人姓名</label>
                        <input type="text" id="payeeName" value="张三" required>
                    </div>
                    <div class="form-group">
                        <label>银行卡号</label>
                        <input type="text" id="bankCard" value="6222021234567890123" required>
                    </div>
                    <div class="form-group">
                        <label>开户银行</label>
                        <input type="text" id="bankName" value="中国工商银行" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel">取消</button>
                <button type="button" class="btn-save">保存</button>
            </div>
        </div>
    </div>

    <!-- 最近提交更多弹窗 -->
    <div id="moreSubmissionsModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>提交记录</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="submissions-list">
                    <div class="submission-item">
                        <div class="submission-info">
                            <h4>内核缓冲区溢出检测 - a7b3c9</h4>
                            <span class="submission-date">2025-01-15 14:30</span>
                            <p>获得积分: +85</p>
                            <p>覆盖率提升: +12%</p>
                        </div>
                        <div class="submission-status">
                            <span class="status-badge success">通过</span>
                        </div>
                    </div>
                    <div class="submission-item">
                        <div class="submission-info">
                            <h4>应用权限提升测试 - f2e8d1</h4>
                            <span class="submission-date">2025-01-15 10:15</span>
                            <p>预计完成: 30分钟</p>
                        </div>
                        <div class="submission-status">
                            <span class="status-badge pending">评测中</span>
                        </div>
                    </div>
                    <div class="submission-item">
                        <div class="submission-info">
                            <h4>网络协议模糊测试 - 9k4m7x</h4>
                            <span class="submission-date">2025-01-14 16:45</span>
                            <p>编译错误</p>
                        </div>
                        <div class="submission-status">
                            <span class="status-badge failed">失败</span>
                        </div>
                    </div>
                    <div class="submission-item">
                        <div class="submission-info">
                            <h4>系统服务接口测试 - x9m2k7</h4>
                            <span class="submission-date">2025-01-13 09:20</span>
                            <p>获得积分: +65</p>
                            <p>发现漏洞: 2个</p>
                        </div>
                        <div class="submission-status">
                            <span class="status-badge success">通过</span>
                        </div>
                    </div>
                    <div class="submission-item">
                        <div class="submission-info">
                            <h4>文件系统安全测试 - b8n5p3</h4>
                            <span class="submission-date">2025-01-12 16:45</span>
                            <p>运行超时</p>
                        </div>
                        <div class="submission-status">
                            <span class="status-badge failed">失败</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel">关闭</button>
            </div>
        </div>
    </div>

    <!-- 证书预览弹窗 -->
    <div id="certificateModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>证书预览</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="certificate-preview">
                    <img id="certificateImage" src="" alt="证书" style="width: 100%; max-width: 600px; height: auto;">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-download" onclick="downloadCertificate()">下载证书</button>
                <button type="button" class="btn-cancel">关闭</button>
            </div>
        </div>
    </div>

    <script src="profile.js"></script>
</body>
</html>